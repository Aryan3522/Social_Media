{% extends './base/base.html' %}
{% block content %}

<link rel="stylesheet" href="../../static/css/Loginstyle.css" version="1" />

<main>
  <section class="form">
    <div class="logo text-center">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M21 7.5l-2.25-1.313M21 7.5v2.25m0-2.25l-2.25 1.313M3 7.5l2.25-1.313M3 7.5l2.25 1.313M3 7.5v2.25m9 3l2.25-1.313M12 12.75l-2.25-1.313M12 12.75V15m0 6.75l2.25-1.313M12 21.75V19.5m0 2.25l-2.25-1.313m0-16.875L12 2.25l2.25 1.313M21 14.25v2.25l-2.25 1.313m-13.5 0L3 16.5v-2.25"
        />
      </svg>
    </div>
<h1 class="form__title">Forgot Password?</h1>
    <form method="POST" action="{% url 'forgot_password' %}" id="forgotPasswordForm" onsubmit="hideForm()">

        {% csrf_token %}
        <label for="username_or_email"  class="form-control__label">Enter your username or email:</label>
        <input type="text" id="username_or_email" class="form-control"  name="username_or_email" required>
        <button type="submit" class="form__submit btn btn-primary" id="submit">Submit</button>
    </form>

</section>
<section class="form__animation">
  <div id="ball">
    <div class="ball">
      <div id="face">
        <div class="ball__eyes">
          <div class="eye_wrap"><span class="eye"></span></div>
          <div class="eye_wrap"><span class="eye"></span></div>
        </div>
        <div class="ball__mouth"></div>
      </div>
    </div>
  </div>
  <div class="ball__shadow"></div>
</section>
</main>

<script src="../../static/js/main.js"></script>
<script>
    function hideForm() {
        const form = document.getElementById('forgotPasswordForm');
        const alertMessage = document.querySelector('[name="alert_message"]');

        if (form.style.display !== 'none') {
            form.style.display = 'none';
            alertMessage.style.display = 'block';
        } else {
            form.style.display = 'block';
            alertMessage.style.display = 'none';
        }
    }
</script>




{% if alert_message %}
<div style="margin: 8rem; color: whitesmoke;">
    <h3>Further Instructions have been sent to your email.</h3>
    <br/>
    <p>Check your email to change your password.</p>
    <h3>
        <a href="{% url 'home' %}">Home!</a>
    </h3>
</div>
{% endif %}

{% endblock %}
